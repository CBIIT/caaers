<?xml version="1.0" encoding="UTF-8"?>
<beans
    xmlns="http://www.springframework.org/schema/beans"
    xmlns:tx="http://www.springframework.org/schema/tx"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="
    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.0.xsd"
    >
    <bean class="org.springframework.beans.factory.annotation.RequiredAnnotationBeanPostProcessor"/>

	<bean id="xmlViewResolver" class="org.springframework.web.servlet.view.XmlViewResolver">
        <property name="location"><value>/WEB-INF/special-views.xml</value></property>
    </bean>

    <bean id="irViewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <property name="viewClass">
            <value>org.springframework.web.servlet.view.InternalResourceView</value>
        </property>
        <property name="prefix">
            <value>/WEB-INF/views/</value>
        </property>
        <property name="suffix">
            <value>.jsp</value>
        </property>
    </bean>

  
    <bean id="urlMapping" class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping" lazy-init="true">
        <property name="interceptors">
            <list>
                <ref bean="loginCheckInterceptor"/>
            </list>
        </property>
    </bean>
    
    <bean id="loginCheckInterceptor" class="gov.nih.nci.cabig.caaers.tools.accesscontrol.LoginCheckInterceptor"/>

    <bean id="noCacheTemplate" abstract="true">
        <property name="cacheSeconds"><value>0</value></property>
    </bean>

    
    <bean name="/createParticipant" id="newParticipantController" autowire="byName"
          class="gov.nih.nci.cabig.caaers.web.NewParticipantController">
    </bean>
	<!-- 
    <bean name="/assignParticipant" id="assignParticipantController" autowire="byName"
          class="gov.nih.nci.cabig.caaers.web.AssignParticipantController">
    </bean>
    -->
    
    <bean name="/createStudy" id="studyController" autowire="byName"
          class="gov.nih.nci.cabig.caaers.web.StudyController">
        <property name="formView"><value>createStudy</value></property>
        <property name="successView"><value>studySuccess</value></property>
    </bean>

    <bean name="/searchStudy" id="searchStudyController"
        class="org.springframework.web.servlet.mvc.ParameterizableViewController">
        <property name="viewName"><value>searchStudy</value></property>
    </bean>    

    <!-- <bean id="loginCommand" class="gov.nih.nci.cabig.caaers.web.LoginCommand" autowire="byName" scope="prototype" />
    
    <bean name="/login" id="loginController" autowire="byName"
        class="gov.nih.nci.cabig.caaers.web.LoginController" lazy-init="true">
        <property name="targetView"><value>welcome</value></property>
    </bean> -->

    <bean name="/createAdverseEvent" id="createAdverseEvent" autowire="byType"
        class="gov.nih.nci.cabig.caaers.web.CreateAdverseEventController"/>

</beans>