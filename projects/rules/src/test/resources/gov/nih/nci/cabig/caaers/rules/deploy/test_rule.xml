<?xml version="1.0" encoding="iso-8859-1"?>
<package xmlns="http://drools.org/drools-3.0" xmlns:drools="http://drools.org/drools-3.0" xmlns:rules="http://drools.org/drools-3.0" xmlns:xs="http://www.w3.org/2001/XMLSchema-instance" xs:schemaLocation="http://drools.org/drools-3.0 drools-3.0.xsd" name="gov.nih.nci.cabig.caaers.rules.sponsor.duke_university_comprehensive_cancer_center.sae_reporting_rules">
	<global type="gov.nih.nci.cabig.caaers.rules.runtime.RuleContext" identifier="ruleContext"/>
	<global type="gov.nih.nci.cabig.caaers.rules.runtime.action.ActionDispatcher" identifier="actionDispatcher"/>
	<import name="gov.nih.nci.cabig.caaers.domain.*"/>
	<rule name="Rule-1">
		<lhs>
			<column identifier="adverseEvent" object-type="gov.nih.nci.cabig.caaers.domain.AdverseEvent"/>
			<column identifier="factResolver" object-type="gov.nih.nci.cabig.caaers.rules.objectgraph.FactResolver"/>
			<column identifier="studySDO" object-type="gov.nih.nci.cabig.caaers.domain.Study"/>
			<column identifier="adverseEventEvaluationResult" object-type="gov.nih.nci.cabig.caaers.rules.domain.AdverseEventEvaluationResult"/>
			<eval>factResolver.assertFact(adverseEvent,"gov.nih.nci.cabig.caaers.domain.Grade","code","2","==") == true 

                                                </eval>
			<eval>factResolver.assertFact(studySDO,"gov.nih.nci.cabig.caaers.domain.Organization","name","Duke University Comprehensive Cancer Center","==") == true 

                                                </eval>
		</lhs>
		<rhs>

           System.out.println("Value Is:"+"test");         

           

              if(adverseEventEvaluationResult != null) {

                     

                     String msg = "";

                     if (adverseEventEvaluationResult.getMessage() != null) {

                           msg = adverseEventEvaluationResult.getMessage() + "||";

                     }

                     

                     adverseEventEvaluationResult.setMessage(msg + "test");

              }

               else {

                     System.out.println("The Rule Conditions were met. But no action is specified. ");

              }

       </rhs>
	</rule>
</package>
