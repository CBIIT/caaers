<?xml version="1.0" encoding="iso-8859-1"?>

	<package xmlns="http://drools.org/drools-4.0" xmlns:drools="http://drools.org/drools-4.0" xmlns:rules="http://drools.org/drools-4.0" 
	xmlns:xs="http://www.w3.org/2001/XMLSchema-instance" xs:schemaLocation="http://drools.org/drools-4.0 drools-4.0.xsd"
	name="gov.nih.nci.cabig.caaers.rules.sponsor.cancer_therapy_evaluation_program.sae_reporting_rules">

		<global type="gov.nih.nci.cabig.caaers.rules.runtime.RuleContext" identifier="ruleContext"/>
		<global type="gov.nih.nci.cabig.caaers.rules.runtime.action.ActionDispatcher" identifier="actionDispatcher"/>
		
		
		<import name="gov.nih.nci.cabig.caaers.domain.*"/>

		<rule name="Rule-1">
<lhs>
<pattern identifier="adverseEvent" object-type="gov.nih.nci.cabig.caaers.domain.AdverseEvent"/>
<pattern identifier="factResolver" object-type="gov.nih.nci.cabig.caaers.rules.objectgraph.FactResolver"/>
<pattern identifier="studySDO" object-type="gov.nih.nci.cabig.caaers.domain.Study"/>
<pattern identifier="adverseEventEvaluationResult" object-type="gov.nih.nci.cabig.caaers.rules.domain.AdverseEventEvaluationResult"/>
<eval>factResolver.assertFact(adverseEvent,"gov.nih.nci.cabig.caaers.domain.Grade","code","3","&gt;=") == true 
							</eval>
<eval>factResolver.assertFact(studySDO,"gov.nih.nci.cabig.caaers.domain.Organization","name","Cancer Therapy Evaluation Program","==") == true 
							</eval>
</lhs>
<rhs>
	    System.out.println("Value Is:"+"CTEP 24 Hour SAE Notification||CTEP 10 Calendar Day SAE Report");	    
	    
		if(adverseEventEvaluationResult != null) {
			
			String msg = "";
			if (adverseEventEvaluationResult.getMessage() != null) {
				msg = adverseEventEvaluationResult.getMessage() + "||";
			}
			
			adverseEventEvaluationResult.setMessage(msg + "CTEP 24 Hour SAE Notification||CTEP 10 Calendar Day SAE Report");
			System.out.println("**********");
			System.out.println("**********" + msg);
			System.out.println("**********");
		}
		 else {
			System.out.println("The Rule Conditions were met. But no action is specified. ");
		}
	</rhs>
</rule>

	</package>