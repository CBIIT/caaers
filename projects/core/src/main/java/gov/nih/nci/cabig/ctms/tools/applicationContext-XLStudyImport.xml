<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN"
    "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>


	<import resource="classpath*:gov/nih/nci/cabig/caaers/applicationContext-core-dao.xml" />
	
	<import resource="classpath*:gov/nih/nci/cabig/caaers/applicationContext-core-spring.xml" />
	<import resource="classpath*:gov/nih/nci/cabig/caaers/applicationContext-core-service.xml"/>
	

	<bean id="dataSource" class="org.springframework.jdbc.datasource.DriverManagerDataSource">
        <property name="driverClassName">
            <value>org.postgresql.Driver</value>
        </property>
        <property name="url">
            <value>s[datasource.url]</value>
        </property>
        <property name="username">
            <value>s[datasource.username]</value>
        </property>
        <property name="password">
            <value>s[datasource.password]</value>
        </property>
    </bean>
	<bean  id="caaersDatasourceFactoryBean" class="gov.nih.nci.cabig.caaers.tools.CaaersDataSourcePropertiesFactoryBean">
                <property name="databaseConfigurationName"><value>test</value></property>
    </bean>
	<bean id="mainPropertyConfigurer" class="gov.nih.nci.cabig.ctms.tools.spring.PropertyPlaceholderConfigurer">
        <property name="properties" ref="caaersDatasourceFactoryBean" />
           
        <!-- have to use a separate prefix/suffix to avoid maven filtering in everything
             at build time -->
        <property name="placeholderPrefix"><value>s[</value></property>
        <property name="placeholderSuffix"><value>]</value></property>
        <property name="useNullForUnresolvablePlaceholders"><value>true</value></property>
    </bean>
   
   <bean id="rulesPropertyConfigurer"
		class="gov.nih.nci.cabig.ctms.tools.spring.PropertyPlaceholderConfigurer">
		<property name="properties">
			<bean
				class="gov.nih.nci.cabig.caaers.tools.CaaersDataSourcePropertiesFactoryBean">
				<property name="databaseConfigurationName">
					<value>karthik</value>
				</property>
			</bean>
		</property>
		<!-- have to use a separate prefix/suffix to avoid maven filtering in everything
			at build time -->
		<property name="placeholderPrefix">
			<value>s[</value>
		</property>
		<property name="placeholderSuffix">
			<value>]</value>
		</property>
		<property name="useNullForUnresolvablePlaceholders">
			<value>true</value>
		</property>
	</bean>
		
	
	<bean id="XLstudyImporter" class="gov.nih.nci.cabig.ctms.tools.XLstudyImporter" autowire="byType">
        <property name="orgdao" ref="organizationDao"/>
		<property name="ctcdao" ref="ctcDao"/>
		<property name="studydao" ref="studyDao"/>
		<property name="agentdao" ref="agentDao"/>
		<property name="investigationalnewdrugdao" ref="investigationalNewDrugDao"/>
		<property name="diseasetermdao" ref="diseaseTermDao"/>
		<property name="investigatordao" ref="investigatorDao"/>
    </bean>
	

</beans>