<?xml version="1.0" encoding="UTF-8"?>

<process-definition  xmlns="urn:jbpm.org:jpdl-3.2"  name="routineflow">


	<description>
		This is the parent workflow defined in caAERS for the Routine AE review and reporting. 
	</description>


	<start-state name="Start Routine Report Flow">
		<transition to="Publish Report For Review"></transition>
	</start-state>


	<task-node name="Publish Report For Review">
		<description>
			After the Routine Report is created, it should be send for review. In the data entry person's queue a task should be created to do this.
State associated with this task node is DRAFT
		</description>
		<transition to="Ready For Review" name="Publish for Review"></transition>
	</task-node>

	<task-node name="Perform Level 1 Review">
		<description>
			This task node represents that the Routine Report (Reporting Period) is sent for Level 1 review.
The state associated with this task node is : REVIEW1
		</description>
		<transition to="Perform Level 2 Review" name="Level 2 Review">
			<description>
				This transition occurs then the review is passed
			</description>
		</transition>
		<transition to="Provide Additional Requested Information" name="Additional Info Needed"></transition>
	</task-node>

	<task-node name="Perform Level 2 Review">
		<description>
			This task node represents that the Routine Report (Reporting Period) is sent for Level 2 review.
The state associated with this task node is : REVIEW2
		</description>
		<transition to="Review Completed" name="Review Complete">
			<description>
				This is when the review is passed.
			</description>
		</transition>
		<transition to="Provide Additional Requested Information" name="Additional Info Needed"></transition>
	</task-node>

	<task-node name="Provide Additional Requested Information">
		<description>
			The reviewer asked for more information, while reviewing the Routine report content. A task should be created to the data entry person, to provide this information. 
The status associated with this task is ADDITIONAL_INFO_NEEDED

		</description>
		<transition to="Ready For Review" name="Publish for Review"></transition>
	</task-node>

	<state name="Review Completed">
		<description>
			This state node is invoked when the routine report review is completed. This is a long wait state, at some point in time, the data entry person can add more AE information and send it to review again. 
When the Routine Period (is locked), it can go to end state. 
The state associated with this task is &quot;REVIEW_COMPLETE&quot;
		</description>
		<transition to="Locked" name="Lock"></transition>
		<transition to="Ready For Review" name="Publish For Review"></transition>
	</state>

	<node name="Ready For Review">
		<description>
			This node will immediately transition to one of its next state, based on the job data vairables.
State associated with this Node is READY4REVIEW
		</description>
		<transition to="Perform Level 1 Review" name="Level 1 Review"></transition>
		<transition to="Perform Level 2 Review" name="Level 2 Review"></transition>
	</node>


	<end-state name="Locked">
		<description>
			This is the end state.
		</description>
	</end-state>


</process-definition>
